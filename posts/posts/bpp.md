---
title: bijective proof problems 选做 - 代数方法戒毒笔记
---

[pdf 版本的题目表](https://xyix.gitee.io/images/bijective%20%proof%probs.pdf)

**记号和笔记.**

- $Y^X=X\rightarrow Y$ 代表从集合 $X$ 到 $Y$ 的映射。
- $x\mapsto\xi$ 代表一个把元素 $x$ 映射到 $\xi$ 的映射。
- $C(n,m)$ 代表从 $\{1\sim n\}$ 的所有大小为 $m$ 的子集。当然也可以看作 $\{f\in\{0,1\}^n,\sum_{i=1}^nf(i)=m\}$。
- 既然是双射证明题集，此处所有题目的解答**只允许使用组合意义**。被禁止的手段包括但不限于
- - 归纳
  - 递归 / 递推
  - 生成函数
  - 组合恒等式
- 另外还要尽量使证明足够优雅。

- 注意双射意味着**单**和**满**。单往往是显然的，满则等价于唯一可逆。

**5.**

> **问题.**
>
> 分别求满足如下条件的有序列表 $(S_1,...,S_k)$ 的数量，其中 $S_i$ 皆为 $\{1\sim n\}$ 的子集。
>
> - $S_1\subseteq...\subseteq S_k$。
> - $S_i$ 两两不交。
> - $\bigcap S=\varnothing$。

> **解答.**
>
> 第一问：容易建立从 $\{1\sim k +1\}^{n}$ 到指定集合的双射：$f(i)$ 表示第 $i$ 个元素首次出现是在 $S_{f(i)}$，$f(i)=k+1$ 表示从未出现。
>
> 第二问：显然可以建立到第一问的双射：$S_i\mapsto S_{i}/S_{i-1}$。
>
> 第三问：显然可以建立到一组 $\bigcup S=\{1\sim n\}$  的集合的双射：$S_i\mapsto \{1\sim n\}/S_i$。而后者可以按和之前类似的方法建立到 $(\{1\sim k\} 的非空子集)^n$ 的双射。
>
> $\blacksquare$

开胃小菜，没啥好说的。

**12.**

> **问题.**
>
> 证明
> $$
> \sum_{k=0}^n{x+k\choose k}={x+n+1\choose n}
> $$
> 不妨假定 $x$ 为正整数。（因为等式两边都是关于 $x$ 的有限次多项式，证明了正整数的情况也就证明了一般情况）

> **解答.**
>
> 考虑集合 $C(x+n+1,n)$，我们的目的是将其元素 $\mathbf S$ 用如下二元组描述：$(k, S)$，其中 $S\in C(x+k,k)$。
>
> 这一双射是显然的，我们只需要令 $n-k$ 等于 $\mathbf S$ 中末尾那一长串 $1$ 的长度，$S$ 为剩下的 $\{1\sim x+k\}$ 的情况。注意 $\mathbf S(x+k+1)$ 必定为 $0$，不需要也不能用 $S$ 描述。
>
> $\blacksquare$

**13.**

> **问题.**
>
> 证明
> $$
> \sum_{k=0}^n{2k\choose k}{2(n-k)\choose n-k}=4^n
> $$

> **解答.**
>
> 注意到 $2n\choose n$ 是从 $(0,0)$ 走到 $(n,n)$，每一步只能向上一步或是向右一步的方案数（该双射是显然的）。
>
> 于是等式右边可解释为：从 $(0,0)$ 开始走 $2n$ 步，不限目的地的方案数。一个方案可以双射到三元组：$(k,S,T)$，其中 $S$ 是一条从 $(0,0)$ 到 $(k,k)$ 的路径，$T$ 是一条从 $(0,0)$ 开始走 $2n-2k$ 步且除了 $(0,0) $**从未**触碰 $y=x$ 的路径。换句话说，$k$ 标记出了它最后一次触碰 $y=x$ 的位置。
>
> 我们只需要说明，$T$ 的数量为 ${2(n-k)\choose n-k}$。这一部分的说明不是我的解法而是来自于[这里](https://www.quora.com/How-do-I-prove-that-sum_-k-0-n-binom-2k-k-binom-2n-2k-n-k-4-n/answer/Luke-Gustafson)。
>
> > 长度为 $2n$ 的所有路径可被分为 $4$ 类：
> >
> > - $T$ 的一员
> > - $S$ 的一员
> > - 触碰过 $y=x$ 并在最后处在 $y=x$ 右方
> > - 触碰过 $y=x$ 并在最后处在 $y=x$ 上方
> >
> > 显然，第一步往右走的第三类和第一步往右走的第四类数量相等，往上走亦然。关键之处在于，第一步往右走的第四类和第一步往上走的第三类是极易考虑的：它们的定义保证了它们必然触碰过 $y=x$，不需要再做考虑。
> >
> > 剩下只是一些处理组合数的工作，略去不谈。
>
> $\blacksquare$

**14.**

> **问题.**
>
> 证明
> $$
> \sum_{i=0}^{\min(a,b)}{x+y+i\choose i}{y\choose a-i}{x\choose b-i}={x+a\choose b}{y+b\choose a}
> $$

> **解答.**
>
> 不妨改为证明
> $$
> \sum_{i=0}^{\min(a,b)}{x+y+i\choose x,y,i}{y\choose a-i}{x\choose b-i}={x+y\choose x}{x+a\choose b}{y+b\choose a}
> $$
> 左式可以化为这样一个模型，你在一个 $4$ 维网格上走动，每次可以选择
>
> - $(0,1,0,1)$
> - $(1,0,0,0)$
> - $(1,1,0,0)$
> - $(0,0,1,0)$
> - $(0,0,1,1)$
>
> 之一，最后走到 $(x,a,y,b)$。求总方案数。
>
> 当然也可以看成，往四个可区分的盒子里放任意多个有标号的球，要求第二个盒子和第三个球数之和为 $x$，第一个和第三个为 $a$，第一个和第五个为 $b$，第四个和第五个为 $y$。
>
> 然后到这里我就做不下去了……还是 EIls 靠谱。
>
> <div style="width:70%;margin:auto"><img src="https://xyix.gitee.io/images/bpp1.png" alt=""></div>
>
> 其实和上面的思路是一样的，但是 EIls 的解释确实更容易联系到右式。剩下的工作已经很显然了。
>
> $\blacksquare$

