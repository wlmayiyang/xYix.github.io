---
title: bijective proof problems 选做
---

[pdf 版本的题目表](https://xyix.gitee.io/images/bijective%20proof%20probs.pdf)

建 议 改 为：代 数 方 法 戒 毒 笔 记

**记号和笔记.**

- $Y^X=X\rightarrow Y$ 代表从集合 $X$ 到 $Y$ 的映射。
- $x\mapsto\xi$ 代表一个把元素 $x$ 映射到 $\xi$ 的映射。
- $C(S,m)$ 代表从 $S$ 的所有大小为 $m$ 的子集。当然也可以看作 $\{f\in\{0,1\}^S,\sum_{i=1}^nf(i)=m\}$。
- $[n]=\{1,2,...,n\}$。
- 既然是双射证明题集，此处所有题目的解答**只允许使用组合意义**，准确来说是 **bijective proof**（通过构造从 $S$ 到 $T$ 的双射来证明 $|S|=|T|$）。被禁止的手段包括但不限于
- - 归纳
  - 递归 / 递推
  - 生成函数
  - 组合恒等式，即使该组合恒等式可以用组合意义证明
- 另外还要尽量使证明足够优雅。
- 注意双射意味着**单**和**满**。单往往是显然的，满则等价于唯一可逆。

**题目难度解释.**

- $+$ 和 $-$ 表示微调。

- [1]：显然或直接。
- [2]：困难或比较技巧性。[2+] 是应当给研究生留的作业题的难度上界。 
- [3]：极其困难。一些学生可能能做出 [3-]。几乎没有人可以在合理的时间内做出 [3]。
- [4]：令人害怕地困难。
- [5]：尚未解决。（草）
- 此处难度皆标注以题单中标注的难度。

**5.[2]**

> **问题.**
>
> 分别求满足如下条件的有序列表 $(S_1,...,S_k)$ 的数量，其中 $S_i$ 皆为 $[n]$ 的子集。
>
> - $S_1\subseteq...\subseteq S_k$。
> - $S_i$ 两两不交。
> - $\bigcap S=\varnothing$。

> **解答.**
>
> 第一问：容易建立从 $\{1\sim k +1\}^{[n]}$ 到指定集合的双射：$f(i)$ 表示第 $i$ 个元素首次出现是在 $S_{f(i)}$，$f(i)=k+1$ 表示从未出现。
>
> 第二问：显然可以建立到第一问的双射：$S_i\mapsto S_{i}/S_{i-1}$。
>
> 第三问：显然可以建立到一组 $\bigcup S=[n]$  的集合的双射：$S_i\mapsto [n]/S_i$。而后者可以按和之前类似的方法建立到 $([k] 的非空子集)^{[n]}$ 的双射。
>
> $\blacksquare$

开胃小菜，没啥好说的。

话说这不应该是 [1]？

**12.[2-]**

> **问题.**
>
> 证明
> $$
> \sum_{k=0}^n{x+k\choose k}={x+n+1\choose n}
> $$
> 不妨假定 $x$ 为正整数。（因为等式两边都是关于 $x$ 的有限次多项式，证明了正整数的情况也就证明了一般情况）

> **解答.**
>
> 考虑集合 $C([x+n+1],n)$，我们的目的是将其元素 $\mathbf S$ 用如下二元组描述：$(k, S)$，其中 $S\in C(x+k,k)$。
>
> 这一双射是显然的，我们只需要令 $n-k$ 等于 $\mathbf S$ 中末尾那一长串 $1$ 的长度，$S$ 为剩下的 $[x+k]$ 的情况。注意 $\mathbf S(x+k+1)$ 必定为 $0$，不需要也不能用 $S$ 描述。
>
> $\blacksquare$

**13.[3]**

> **问题.**
>
> 证明
> $$
> \sum_{k=0}^n{2k\choose k}{2(n-k)\choose n-k}=4^n
> $$

> **解答.**
>
> 注意到 $2n\choose n$ 是从 $(0,0)$ 走到 $(n,n)$，每一步只能向上一步或是向右一步的方案数（该双射是显然的）。
>
> 于是等式右边可解释为：从 $(0,0)$ 开始走 $2n$ 步，不限目的地的方案数。一个方案可以双射到三元组：$(k,S,T)$，其中 $S$ 是一条从 $(0,0)$ 到 $(k,k)$ 的路径，$T$ 是一条从 $(0,0)$ 开始走 $2n-2k$ 步且除了 $(0,0) $**从未**触碰 $y=x$ 的路径。换句话说，$k$ 标记出了它最后一次触碰 $y=x$ 的位置。
>
> 我们只需要说明，$T$ 的数量为 ${2(n-k)\choose n-k}$。这一部分的说明不是我的解法而是来自于[这里](https://www.quora.com/How-do-I-prove-that-sum_-k-0-n-binom-2k-k-binom-2n-2k-n-k-4-n/answer/Luke-Gustafson)。
>
> > 长度为 $2n$ 的所有路径可被分为 $4$ 类：
> >
> > - $T$ 的一员
> > - $S$ 的一员
> > - 触碰过 $y=x$ 并在最后处在 $y=x$ 右方
> > - 触碰过 $y=x$ 并在最后处在 $y=x$ 上方
> >
> > 显然，第一步往右走的第三类和第一步往右走的第四类数量相等，往上走亦然。关键之处在于，第一步往右走的第四类和第一步往上走的第三类是极易考虑的：它们的定义保证了它们必然触碰过 $y=x$，不需要再做考虑。
> >
> > 剩下只是一些处理组合数的工作，略去不谈。
>
> $\blacksquare$

有趣的是一位老哥头铁地直接构造了一个从 $S$ 到 $T$ 的[双射](https://math.stackexchange.com/a/72661)。

**14.[3-]**

> **问题.**
>
> 证明
> $$
> \sum_{i=0}^{\min(a,b)}{x+y+i\choose i}{y\choose a-i}{x\choose b-i}={x+a\choose b}{y+b\choose a}
> $$

> **解答.**
>
> 不妨改为证明
> $$
> \sum_{i=0}^{\min(a,b)}{x+y+i\choose x,y,i}{y\choose a-i}{x\choose b-i}={x+y\choose x}{x+a\choose b}{y+b\choose a}
> $$
> 左式可以化为这样一个模型，你在一个 $4$ 维网格上走动，每次可以选择
>
> - $(0,1,0,1)$
> - $(1,0,0,0)$
> - $(1,1,0,0)$
> - $(0,0,1,0)$
> - $(0,0,1,1)$
>
> 之一，最后走到 $(x,a,y,b)$。求总方案数。
>
> 当然也可以看成，往四个可区分的盒子里放任意多个有标号的球，要求第二个盒子和第三个球数之和为 $x$，第一个和第三个为 $a$，第一个和第五个为 $b$，第四个和第五个为 $y$。
>
> 然后到这里我就做不下去了……还是 EIls 靠谱。
>
> <div style="width:70%;margin:auto"><img src="https://xyix.gitee.io/images/bpp1.png" alt=""></div>
>
> 其实和上面的思路是一样的，但是 EIls 的解释确实更容易联系到右式。剩下的工作已经很显然了。
>
> $\blacksquare$

**15.[3-]**

> **问题.**
>
> 证明
> $$
> \sum_{k=0}^n{n\choose k}^2x^k=\sum_{k=0}^n{2n-k\choose n-k,n-k,k}(x-1)^k
> $$

> **解答.**
>
> 等式左边可理解为三元组 $(S,T,f)$，其中 $S,T\subseteq [n]$ 且大小相等，$f$ 是从 $S$ 到 $[x]$ 的映射。
>
> 右边则可理解为三元组 $(S',T',f')$，其中 $S'\subseteq[n]$，$T'\in C([2n]/S,n)$，$f'$ 是从 $S'$ 到 $[x-1]$ 的映射。
>
> 如此构造映射 $(S,T,f)\mapsto(S',T',f')$：
>
> > 令 $S'=f^{-1}([x-1])$；
> >
> > $f'$ 自然是 $f$ 在 $S'$ 上的限制；
> >
> > 令 $T'$ 在 $[n]$ 的部分为 $[n]/S$，在 $[n+1....2n]$ 的部分为 $T$ 平移到此处。
>
> $\blacksquare$

**16.[3-]**

> **问题.**
>
> 证明
> $$
> \sum_{i+j+k=n}{i+j\choose i}{j+k\choose j}{k+i\choose k}=\sum_{r=0}^n{2r\choose r}
> $$

> **解答.**
>
> 不会，贺了题解。
>
> 左式可理解为如下三元组 $(\alpha,\beta,\gamma)$ 的数量：
>
> - $\alpha$ 是一个以 $\text{a}$ 开头以 $\text{b}$ 结尾的字符串，恰有 $i+1$ 个 $\text{a}$ 和 $j+1$ 个 $\text{b}$。
> - $\beta$ 是一个长度为 $j+1$ 的正整数序列且和恰为 $j+k+1$。
> - $\gamma$ 是一个长度为 $i+1$ 的正整数序列且和恰为 $i+k+1$。
>
> 做如下映射：
>
> - 将 $\alpha$ 的第 $i$ 个 $\text{a}$ 替换为 $\text{c}^{\gamma_i}\text{d}$，第 $i$ 个 $b$ 替换为 $\text{d}^{\beta_i}\text{c}$。其中 $\text{c}^r$ 表示 $r$ 个 $\text{c}$。
> - 此时 $\alpha$ 必以 $\text{c}$ 开头，以 $\text{d}(\text{dc})^r$（满足该形式的后缀显然是唯一的）的形式结尾。删掉它们。
>
> 这构建了一个从左到右的双射。
>
> $\blacksquare$

就离谱，这双射是人能想出来的？建议评分 [3+]

**18.[3]**

> **问题.**
>
> 证明，当 $n$ 为质数时，下面两个集合的元素个数相等。
>
> - 所有满足其和在模 $n$ 意义下为 $0$ 的 $[0...n-1]$ 的子集
>
> - 所有有 $n$ 个珠子的黑白项链在旋转变换下的等价类

> **解答.**
>
> 我们来证明两者皆是 $\dfrac{2(n-1)+2^n}n$。
>
> 后者比较显然。
>
> > 取所有等价类，考虑其在所有旋转下的像（$\times n$），这个集合“几乎”是 $[2]^{[n]}$：
> >
> > - 显然两个不同等价类形成的像不会相同
> > - 但是一个等价类的像可能和同一个等价类的另一个像相同，由于 $n$ 是质数，这种情况只在该项链全黑或全白时出现，减掉即可
> >
> > 稍微扩展一下便是 Burnside 引理的一个组合证明。
>
> 再来考虑前者。
>
> > 考虑所有大小为 $i$ 的集合。考虑这样一个映射：把集合中所有元素加上 $1$ 再取模。
> >
> > 在 $i\neq 0\land i\neq n$ 的普通情形下这是一个从所有大小为 $i$ 的 $[0...n-1]$ 的子集回到自身的双射。且和为 $d$ 的集合总会被映射到和为 $d+i\bmod n$ 的集合，从而它们的元素个数相等。即两两
> >
> > 只是在 $i=0\lor i = n$ 时不成立，特判即可。
>
> $\blacksquare$

原题要求证明任意奇数的情况，所以评到了 [3]。

**21.**

> **题目.**
>
> 证明如果 $p$ 是质数，$a^p-a$ 在模 $p$ 意义下为 $0$。

