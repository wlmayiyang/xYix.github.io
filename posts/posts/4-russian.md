---
title: 四毛子学习笔记
---

以 +1/-1 RMQ 为例，每 $B$ 长度分一块（请注意这个 $B$ 非常之小）。

考虑整块查询，相当于一个长度变为 $n/B$ 的 RMQ 问题。

考虑某点到最近的一个关键点的答案。直接预处理。

考虑询问完全在某块内的特殊情况，~~很显然这种情况发生概率很小，而且出题人应该不会这么无聊来卡你，所以直接爆扫即可，~~由于本质不同的块只有 $2^B$ 种，全部 $2^BB^2$ 预处理即可。

取 $B=\frac{\log n}{2}$ 就得到了 +1/-1 RMQ！！1